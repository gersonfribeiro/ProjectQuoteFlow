<div class="container-fluid main p-3">
  <h1 class="px-5"><strong>Suas cotações:</strong></h1>
  <div class="p-5">
    <div
      class="p-4 rounded"
      style="background-color: #e8e8e8; box-shadow: rgba(0, 0, 0, 0.02) 0px 1px 3px 0px, rgba(27, 31, 35, 0.15) 0px 0px 0px 1px;"
    >
      <form>
        <!-- Aplica *ngIf à tabela -->
        <table *ngIf="quotations.length > 0" class="table table-striped table-bordered">
          <thead>
          <tr class="text-center align-middle">
            <th class="w-auto" scope="col">Número</th>
            <th class="w-auto" scope="col">Data da cotação</th>
            <th class="w-auto" scope="col">Produtos</th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let quotation of quotations">
            <td class="text-center align-middle">{{ quotation.numero }}</td>
            <td class="text-center align-middle">{{ quotation.data }}</td>
            <td>
              <table class="table table-sm table-bordered">
                <thead>
                <tr class="text-center">
                  <th scope="col">Categoria</th>
                  <th scope="col">SKU</th>
                  <th scope="col">Quantidade</th>
                  <th scope="col">Descrição</th>
                  <th scope="col">Variação</th>
                  <th scope="col">Observação</th>
                </tr>
                </thead>
                <tbody>
                <tr *ngFor="let produto of quotation.produtos">
                  <td class="text-center align-middle w-auto">{{ produto.categoria }}</td>
                  <td class="text-center align-middle w-auto">{{ produto.sku }}</td>
                  <td class="text-center align-middle w-auto">{{ produto.quantidade }}</td>
                  <td class="text-center align-middle w-auto">{{ produto.descricao }}</td>
                  <td class="text-center align-middle w-auto">{{ produto.variacao }}</td>
                  <td class="text-center align-middle w-auto">{{ produto.observacao }}</td>
                </tr>
                </tbody>
              </table>
            </td>
          </tr>
          </tbody>
        </table>

        <!-- Mensagem quando não há cotações -->
        <div *ngIf="quotations.length === 0" class="text-center">
          <p>Nenhuma cotação adicionada</p>
        </div>

        <a
          [routerLink]="['/dashboard/quotation']"
          class="btn btn-success mt-5 d-flex align-items-center justify-content-center gap-2"
          role="button"
          style="width: 247px; height: 37px;"
        >
          <i class="bi bi-archive"></i>
          Solicitar cotação
        </a>
      </form>
    </div>
  </div>
</div>
